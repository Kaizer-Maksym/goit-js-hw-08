{"mappings":"iiBAAA,IAsBQA,EAtBRC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,UAC9BE,SAAUH,SAASC,cAAc,cAG7BG,EAAc,sBAEpBN,EAAKC,KAAKM,iBAAiB,QAASC,EAAAV,EAAA,EAGpC,SAA0BW,GACxB,IAAMC,EAAW,CACfC,MAAOX,EAAKI,MAAMQ,MAClBC,QAASb,EAAKK,SAASO,OAEzBE,aAAaC,QAAQT,EAAaU,KAAKC,UAAUP,MARY,MAC/DV,EAAKC,KAAKM,iBAAiB,UAmB3B,SAAsBE,GACpBA,EAAES,iBAEFC,QAAQC,IAAIN,aAAaO,QAAQf,IAEjCQ,aAAaQ,WAAWhB,GAExBG,EAAEc,cAAcC,YAfV3B,EAAYmB,KAAKS,MAAMX,aAAaO,QAAQf,KAAiB,MAEjEN,EAAKI,MAAMQ,MAAQf,EAAUc,MAC7BX,EAAKK,SAASO,MAAQf,EAAUgB","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector(' input'),\n  textarea: document.querySelector(' textarea'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nrefs.form.addEventListener('input', throttle(changeInputValue, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction changeInputValue(e) {\n  const dataForm = {\n    email: refs.input.value,\n    message: refs.textarea.value,\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(dataForm));\n}\n\nfunction completionForm() {\n  const formValue = JSON.parse(localStorage.getItem(STORAGE_KEY)) || '';\n  if (formValue) {\n    refs.input.value = formValue.email;\n    refs.textarea.value = formValue.message;\n  }\n}\ncompletionForm();\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  console.log(localStorage.getItem(STORAGE_KEY));\n\n  localStorage.removeItem(STORAGE_KEY);\n\n  e.currentTarget.reset();\n}\n"],"names":["formValue","$dCfNN","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","input","textarea","$b00c40859be242c5$var$STORAGE_KEY","addEventListener","$parcel$interopDefault","e","dataForm","email","value","message","localStorage","setItem","JSON","stringify","preventDefault","console","log","getItem","removeItem","currentTarget","reset","parse"],"version":3,"file":"03-feedback.076d4dbd.js.map"}